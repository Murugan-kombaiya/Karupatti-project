<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Product Details - Karupatti Shop</title>
    <style>
    /* Reset & base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      background: #fffaf0;
      color: #3e3e3e;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    /* Header */
    header {
      background: #6b4226;
      color: #fefcf6;
      padding: 1.25rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .logo {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: 1.1px;
      font-family: 'Georgia', serif;
      user-select: none;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    nav a {
      color: #fefcf6;
      text-decoration: none;
      margin-left: 1.5rem;
      font-weight: 600;
      font-size: 1.1rem;
      transition: color 0.25s ease;
      position: relative;
    }
    nav a::after {
      content: '';
      display: block;
      width: 0%;
      height: 2px;
      background: #f5b642;
      transition: width 0.3s ease;
      position: absolute;
      bottom: -4px;
      left: 0;
      border-radius: 2px;
    }
    nav a:hover {
      color: #f5b642;
    }
    nav a:hover::after {
      width: 100%;
    }

    /* Main product details */
    main#product-details {
      max-width: 1100px;
      margin: 2.5rem auto 3rem auto;
      padding: 1rem 1.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 2.5rem;
      align-items: flex-start;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 6px 18px rgba(107, 66, 38, 0.2);
      animation: fadeInUp 0.8s ease forwards;
      min-height: 400px;
    }
    .product-image {
      flex: 1 1 350px;
      text-align: center;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(107, 66, 38, 0.25);
      transition: transform 0.3s ease;
      background: #fefcf6;
    }
    .product-image img {
      max-width: 100%;
      display: block;
      border-radius: 15px;
      transition: transform 0.4s ease;
      user-select: none;
    }
    .product-image:hover img {
      transform: scale(1.05);
    }
    .product-info {
      flex: 1.3 1 400px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      color: #4a2f0a;
    }
    .product-info h1 {
      font-size: 2.4rem;
      margin-bottom: 0.8rem;
      font-weight: 800;
      letter-spacing: 1px;
      color: #5c3a0a;
      text-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .price {
      font-size: 2rem;
      color: #d14721;
      margin-bottom: 1.2rem;
      font-weight: 700;
      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .description {
      font-size: 1.15rem;
      margin-bottom: 2rem;
      line-height: 1.5;
      color: #6b4a19;
      font-weight: 500;
    }
    button#addToCartBtn {
      background: linear-gradient(45deg, #d14721, #a9370f);
      color: #fffaf0;
      padding: 0.9rem 2.2rem;
      border: none;
      font-size: 1.2rem;
      font-weight: 700;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 6px 12px rgba(209, 71, 33, 0.6);
      transition: background 0.3s ease, box-shadow 0.3s ease;
      align-self: flex-start;
      user-select: none;
      letter-spacing: 0.05em;
    }
    button#addToCartBtn:hover {
      background: linear-gradient(45deg, #a9370f, #6b2106);
      box-shadow: 0 10px 20px rgba(167, 55, 15, 0.8);
      transform: translateY(-3px);
    }
    button#addToCartBtn:active {
      transform: translateY(-1px);
      box-shadow: 0 6px 10px rgba(167, 55, 15, 0.7);
    }

    /* Footer */
    footer {
      background: #4a3b2b;
      color: #f3e9d2;
      padding: 3rem 1.5rem 2rem 1.5rem;
      box-shadow: inset 0 8px 12px -8px rgba(0,0,0,0.3);
      font-weight: 400;
      font-size: 0.95rem;
      margin-top: auto;
      user-select: none;
    }
    .footer-container {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 2rem;
    }
    .footer-section {
      flex: 1 1 220px;
      min-width: 220px;
      line-height: 1.5;
    }
    .footer-section h2 {
      font-size: 1.3rem;
      margin-bottom: 1rem;
      font-weight: 700;
      border-bottom: 2px solid #d8b36b;
      padding-bottom: 0.4rem;
      color: #e4d8b0;
      letter-spacing: 0.03em;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    .footer-section p {
      margin-bottom: 1rem;
      color: #ddd3b3;
      font-weight: 500;
    }
    .footer-section ul {
      list-style: none;
    }
    .footer-section ul li {
      margin-bottom: 0.6rem;
    }
    .footer-section ul li a {
      color: #e4d8b0;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.25s ease;
    }
    .footer-section ul li a:hover {
      color: #f5b642;
      text-decoration: underline;
    }
    .social-icons a {
      display: inline-block;
      margin-right: 0.8rem;
      transition: transform 0.25s ease;
    }
    .social-icons a img {
      width: 38px;
      filter: brightness(1) invert(0);
      user-select: none;
      vertical-align: middle;
      transition: filter 0.3s ease;
    }
    .social-icons a:hover {
      transform: scale(1.15);
    }
    .social-icons a:hover img {
      filter: brightness(1) invert(0);
    }
    .footer-bottom {
      text-align: center;
      margin-top: 2.2rem;
      font-size: 0.85rem;
      color: #c9bc9b;
      letter-spacing: 0.05em;
      user-select: none;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive */
    @media (max-width: 900px) {
      main#product-details {
        flex-direction: column;
        padding: 1rem;
      }
      .product-info {
        text-align: center;
        align-items: center;
      }
      button#addToCartBtn {
        align-self: center;
      }
      .footer-container {
        flex-direction: column;
        align-items: center;
      }
      .footer-section {
        text-align: center;
        min-width: auto;
      }
      nav {
        margin-top: 0.6rem;
      }
      nav a {
        margin-left: 1rem;
        font-size: 1rem;
      }
    }

    @media (max-width: 480px) {
      header {
        flex-direction: column;
        align-items: center;
        padding: 1rem;
      }
      nav a {
        margin-left: 0.8rem;
        font-size: 0.95rem;
      }
      .product-info h1 {
        font-size: 1.8rem;
      }
      .price {
        font-size: 1.5rem;
      }
      .description {
        font-size: 1rem;
      }
      button#addToCartBtn {
        width: 100%;
        padding: 1rem;
        font-size: 1.1rem;
        border-radius: 25px;
      }
    }
  </style>
    <!-- Optional: Google Fonts Poppins -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700;800&display=swap"
      rel="stylesheet" />
  </head>
  <body>

    <header>
      <div class="logo">Karupatti Shop</div>
      <nav>
        <a href="index.html">Home</a>
        <a href="product.html">Products</a>
        <a href="shop.html">Shop</a>
        <a href="register.html">Register</a>
      </nav>
    </header>

    <main id="product-details">
      <!-- Product details will be inserted by JS -->
    </main>

    <footer>
      <div class="footer-container">
        <div class="footer-section about">
          <h2>About Karupatti Shop</h2>
          <p>We provide the best natural karupatti products straight
            from the source to your doorstep.</p>
        </div>
        <div class="footer-section links">
          <h2>Quick Links</h2>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="product.html">Products</a></li>
            <li><a href="register.html">Register</a></li>
          </ul>
        </div>
        <div class="footer-section contact">
          <h2>Contact Us</h2>
          <p>Email: support@karupattishop.com</p>
          <p>Phone: +91 98765 43210</p>
          <div class="social-icons">
            <a href="#"><img
                src="https://img.icons8.com/?size=100&id=118497&format=png&color=000000"
                alt="Facebook" /></a>
            <a href="#"><img
                src="https://img.icons8.com/?size=100&id=CtMFJTP5iLtm&format=png&color=000000"
                alt="Twitter" /></a>
            <a href="#"><img
                src="https://img.icons8.com/?size=100&id=BrU2BBoRXiWq&format=png&color=000000"
                alt="Instagram" /></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        &copy; 2025 Karupatti Shop. All rights reserved.
      </div>
    </footer>

    <script>
const apiURL = "https://raw.githubusercontent.com/Murugan-kombaiya/Karupatti-project/main/products.json";
const container = document.getElementById('product-details');

function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}
console.log(product.image); // âœ… check path is correct


    const productName = getQueryParam('product');

    if (!productName) {
      container.innerHTML = '<p style="color: #d14721; text-align: center; font-weight: 700; font-size: 1.3rem;">No product specified.</p>';
    } else {
      fetch(apiURL)
        .then(res => res.json())
        .then(data => {
          const products = data.products || data;
          const product = products.find(p => p.name === productName);
          if (!product) {
            container.innerHTML = `<p style="color: #d14721; text-align: center; font-weight: 700; font-size: 1.3rem;">Product "${productName}" not found.</p>`;
            return;
          }

          container.innerHTML = `
            <div class="product-image">
              <img src="${product.image}" alt="${product.name}" />
            </div>
            <div class="product-info">
              <h1>${product.name}</h1>
              <p class="price">â‚¹${product.price}</p>
              <p class="description">${product.description || 'No description available.'}</p>
              <button id="addToCartBtn">Add to Cart</button>
            </div>
          `;

          document.getElementById('addToCartBtn').addEventListener('click', () => {
            const selectedProduct = {
              name: product.name,
              price: product.price,
              img: product.image
            };

            localStorage.setItem('cart', JSON.stringify([selectedProduct]));

            alert(`"${product.name}" added to cart!`);
            window.location.href = 'shop.html';
          });
        })
        .catch(err => {
          container.innerHTML = `<p style="color: #d14721; text-align: center; font-weight: 700; font-size: 1.3rem;">Error loading product details.</p>`;
          console.error(err);
        });
    }
  </script>

  </body>
</html>
